{% extends "invApp/home.html" %}
{% block title %}Add Bill{% endblock %}
{% block content %}

<h2 class="text-center mb-4">Add New Bill</h2>

<form method="POST" class="col-md-6 mx-auto">
  {% csrf_token %}

  <div class="mb-3">
    <label class="form-label">Select Student</label>
    <select id="studentSelect" name="student_id" class="form-control" required>
      <option value="">-- Select a Student --</option>
      {% for student in students %}
        <option value="{{ student.student_id }}">
          {{ student.full_name }} ({{ student.course }} - Year {{ student.year_level }})
        </option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Description</label>
    <input type="text" name="description" class="form-control" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Amount</label>
    <input type="number" step="0.01" name="amount" class="form-control" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Due Date</label>
    <input type="date" name="due_date" class="form-control" required>
  </div>

  <button type="submit" class="btn btn-primary w-100">Add Bill</button>
</form>

<!-- Add Select2 scripts -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<script>
  $(document).ready(function() {
    $('#studentSelect').select2({
      placeholder: "Search for a student",
      allowClear: true,
      width: '100%'
    });
  });
</script>

{% endblock %}
